Version 4
SHEET 1 1204 680
WIRE 480 -176 -480 -176
WIRE 672 -176 480 -176
WIRE 672 -160 672 -176
WIRE -480 -64 -480 -176
WIRE 592 -64 80 -64
WIRE 672 -64 672 -80
WIRE 672 -64 592 -64
WIRE 80 -48 80 -64
WIRE 480 64 480 -176
WIRE 672 64 672 -64
WIRE -480 80 -480 16
WIRE 80 112 80 32
WIRE 416 112 80 112
WIRE 480 192 480 160
WIRE 480 192 -176 192
WIRE 672 192 672 128
WIRE 672 192 480 192
WIRE 80 208 80 176
WIRE -176 224 -176 192
WIRE 480 240 480 192
WIRE 80 288 80 272
WIRE 80 288 -16 288
WIRE 416 288 80 288
WIRE -464 336 -560 336
WIRE -352 336 -400 336
WIRE -176 336 -176 304
WIRE -176 336 -272 336
WIRE -80 336 -176 336
WIRE -560 368 -560 336
WIRE -176 384 -176 336
WIRE -560 528 -560 448
WIRE -176 528 -176 464
WIRE -16 528 -16 384
WIRE 480 528 480 336
FLAG -480 80 0
FLAG -560 528 0
FLAG -176 528 0
FLAG -16 528 0
FLAG 480 528 0
FLAG 592 -64 out
DATAFLAG 304 192 ""
DATAFLAG 304 -64 ""
DATAFLAG 0 288 ""
DATAFLAG 304 112 ""
SYMBOL npn 416 64 R0
SYMATTR InstName Q1
SYMATTR Value BC337-40
SYMBOL npn -80 288 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL pnp 416 336 M180
SYMATTR InstName Q3
SYMATTR Value BC327-40
SYMBOL diode 64 112 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 64 208 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 64 -64 R0
SYMATTR InstName R1
SYMATTR Value 2.2k
SYMBOL res -192 208 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res -192 368 R0
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL res -256 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 47k
SYMBOL voltage -480 -80 R0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL cap -400 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL cap 688 128 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL res 656 -176 R0
SYMATTR InstName Rout
SYMATTR Value 8
SYMBOL voltage -560 352 R0
WINDOW 3 24 152 Left 2
WINDOW 123 24 124 Left 2
WINDOW 39 24 180 Left 2
SYMATTR Value SINE(0 1 1k)
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=30
SYMATTR InstName Vin
TEXT -592 552 Left 2 !.op
TEXT 776 -24 Left 2 !.param f=1e3\n.four {f} 10 100 V(out)\n.options numdgt=7\n.options plotwinsize=0\n.op\n;.tran 0 {120/f} {20/f} {1/(f*100)}\n;.ac dec 1meg 10 100k\n;.net I(Rout) Vin
TEXT 680 288 Left 2 ;THD 1% at 200mW output
TEXT 0 440 Left 2 ;2.8mAdc
TEXT 488 416 Left 2 ;5.6mAdc
