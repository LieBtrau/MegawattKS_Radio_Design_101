Version 4
SHEET 1 4164 1668
WIRE -16 -320 -160 -320
WIRE 48 -320 -16 -320
WIRE 1184 -320 48 -320
WIRE 1392 -320 1184 -320
WIRE 1792 -320 1392 -320
WIRE -160 -272 -160 -320
WIRE 48 -272 48 -320
WIRE 48 -160 48 -192
WIRE 112 -160 48 -160
WIRE 208 -160 176 -160
WIRE -160 -144 -160 -192
WIRE 48 -128 48 -160
WIRE 208 -128 208 -160
WIRE 48 -16 48 -48
WIRE 384 -16 48 -16
WIRE 576 -16 384 -16
WIRE 656 -16 576 -16
WIRE 768 -16 720 -16
WIRE 912 -16 768 -16
WIRE 48 32 48 -16
WIRE 384 112 384 -16
WIRE 768 112 768 -16
WIRE 912 112 912 -16
WIRE -96 160 -144 160
WIRE 48 160 48 112
WIRE 48 160 -32 160
WIRE 320 160 48 160
WIRE 1792 192 1792 -320
WIRE -144 208 -144 160
WIRE 576 224 576 -16
WIRE 768 256 768 192
WIRE 912 256 912 176
WIRE 1184 272 1184 -320
WIRE 1392 272 1392 -320
WIRE 48 368 48 160
WIRE 1792 368 1792 272
WIRE 384 400 384 208
WIRE 1392 448 1392 352
WIRE 1552 448 1392 448
WIRE 1696 448 1616 448
WIRE 1744 448 1696 448
WIRE 1392 464 1392 448
WIRE 1696 480 1696 448
WIRE 384 512 384 480
WIRE 496 512 384 512
WIRE 576 512 576 288
WIRE 576 512 496 512
WIRE 736 512 576 512
WIRE 1184 512 1184 352
WIRE 1184 512 800 512
WIRE 1328 512 1184 512
WIRE 1792 512 1792 464
WIRE 384 544 384 512
WIRE 576 544 576 512
WIRE 1392 576 1392 560
WIRE 1536 576 1392 576
WIRE 1184 608 1184 512
WIRE 1696 608 1696 560
WIRE 48 688 48 448
WIRE 384 688 384 624
WIRE 576 688 576 608
WIRE 1392 704 1392 576
WIRE 1504 704 1392 704
WIRE 1392 720 1392 704
WIRE 1184 736 1184 688
WIRE 1504 736 1504 704
WIRE 1392 816 1392 800
WIRE 1504 816 1504 800
FLAG -160 -144 0
FLAG 48 688 0
FLAG 384 688 0
FLAG -144 208 0
FLAG 208 -128 0
FLAG 576 688 0
FLAG 768 256 0
FLAG 912 256 0
FLAG 496 512 osc_out
FLAG -16 -320 5V
FLAG 1184 736 0
FLAG 1392 816 0
FLAG 1504 816 0
FLAG 1792 512 0
FLAG 1696 608 0
DATAFLAG 336 -16 ""
DATAFLAG 384 304 ""
DATAFLAG 192 160 ""
DATAFLAG 1504 448 ""
DATAFLAG 1184 512 ""
DATAFLAG 1504 576 ""
SYMBOL npn 320 112 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res 32 16 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 32 352 R0
SYMATTR InstName R2
SYMATTR Value 22k
SYMBOL res 368 384 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL res 32 -144 R0
SYMATTR InstName R4
SYMATTR Value 2.2k
SYMBOL res 368 528 R0
SYMATTR InstName R5
SYMATTR Value 1.2k
SYMBOL res 32 -288 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL voltage -160 -288 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL cap 176 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL cap -32 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL cap 560 224 R0
SYMATTR InstName C3
SYMATTR Value 90p
SYMBOL cap 560 544 R0
SYMATTR InstName C4
SYMATTR Value 220p
SYMBOL cap 720 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 18p
SYMBOL ind 752 96 R0
SYMATTR InstName L1
SYMATTR Value 6.8µ
SYMBOL cap 896 112 R0
SYMATTR InstName C6
SYMATTR Value 18p
SYMBOL cap 800 496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 10p
SYMBOL npn 1328 464 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL res 1168 256 R0
SYMATTR InstName R12
SYMATTR Value 4.7k
SYMBOL res 1168 592 R0
SYMATTR InstName R13
SYMATTR Value 1.8k
SYMBOL res 1376 704 R0
SYMATTR InstName R20
SYMATTR Value 100
SYMBOL cap 1488 736 R0
SYMATTR InstName C9
SYMATTR Value 10n
SYMBOL ind 1376 256 R0
SYMATTR InstName L2
SYMATTR Value 15µ
SYMBOL cap 1616 432 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL res 1776 176 R0
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL res 1680 464 R0
SYMATTR InstName R8
SYMATTR Value 1.5k
SYMBOL nmos 1744 368 R0
SYMATTR InstName M1
SYMATTR Value BSS138P
SYMATTR Prefix X
TEXT -192 568 Left 2 !;op
TEXT 536 -256 Left 2 ;EMRFD, Fig. 4.11
TEXT -320 488 Left 2 !.tran 0 220u 210u uic\n.inc BSS138P_2011.txt
TEXT 1320 -504 Left 2 !.param first_edge=1 ; 200th edge\n.param last_edge=50 ; 700th edge\n.param zero_crossing_voltage=1.5 ; voltage at zero crossing\n.meas tran T1 find time when V(osc_out)={zero_crossing_voltage} rise {first_edge}\n.meas tran T2 find time when V(osc_out)={zero_crossing_voltage} rise {last_edge}\n.meas tran Frequency param ({last_edge}-{first_edge})/(T2-T1)
TEXT 1168 872 Left 2 ;Class A amplifier EMRFD fig. 2.34
